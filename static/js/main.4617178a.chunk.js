(this["webpackJsonpjs-band-hw-task-6"]=this["webpackJsonpjs-band-hw-task-6"]||[]).push([[0],{12:function(e,t,n){e.exports=n(24)},18:function(e,t,n){},21:function(e,t,n){},22:function(e,t,n){},23:function(e,t,n){},24:function(e,t,n){"use strict";n.r(t);var a=n(0),o=n.n(a),r=n(11),i=n.n(r),l=(n(17),n(18),function(){return o.a.createElement("div",{className:"card-header font-weight-bold"},"ToDo List")}),c=function(){return o.a.createElement("div",{className:"card-footer font-weight-bold"},"Aleksei Kotvitskyi")},s=n(2),d=n(9),u=n(3),h=n(4),p=n(6),m=n(5),b=n(1),f=n(7),y=n(8),O=n.n(y);n(21);function v(e){var t=e.items,n=e.dropdownInf,a=e.visibleToggle,r=e.textValue,i=e.handleClick;return o.a.createElement("div",{className:n.open?"dropdownList open":"dropdownList"},o.a.createElement("button",{type:"button",onClick:function(){return a(n)}},r),o.a.createElement("ul",null,t.map((function(e){return o.a.createElement("li",{key:e,onClick:i},e)}))))}v.defaultProps={dropdownInf:O.a.shape({open:O.a.bool,name:O.a.string}),handleClick:O.a.func};var g=v,j={searchText:"",priority:"all",completed:"all"};var w=function(e){return j.completed=e.completed,j.priority=e.priority,j.searchText=e.searchText,j};function k(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}var E=function(e){function t(){var e;return Object(u.a)(this,t),(e=Object(p.a)(this,Object(m.a)(t).call(this))).state={openByDone:{open:!0,name:"openByDone"},openByPriority:{open:!0,name:"openByPriority"},priority:"all",completed:"all",searchText:""},e.visibleChange=e.visibleChange.bind(Object(b.a)(e)),e.handleClick=e.handleClick.bind(Object(b.a)(e)),e.searchByTitle=e.searchByTitle.bind(Object(b.a)(e)),e}return Object(f.a)(t,e),Object(h.a)(t,[{key:"visibleChange",value:function(e){this.setState((function(t){return Object(s.a)({},e.name,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?k(Object(n),!0).forEach((function(t){Object(s.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):k(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},t[e.name],{open:!t[e.name].open}))}))}},{key:"handleClick",value:function(e,t){var n=this.props.handleSorted,a=e.target.innerText,o=w(Object(s.a)({},t,a));this.setState(Object(s.a)({},t,a)),n(o)}},{key:"searchByTitle",value:function(e){var t=this.props.handleSorted,n=e.target.value,a=w({searchText:n});this.setState({searchText:n}),t(a)}},{key:"render",value:function(){var e=this,t=this.state,n=t.openByDone,a=t.openByPriority,r=t.priority,i=t.completed,l=this.props.handleShowModal;return o.a.createElement("div",{className:"d-flex justify-content-around mt-3"},o.a.createElement("div",null,o.a.createElement("input",{type:"search",placeholder:"search by title",className:"form-control",onChange:this.searchByTitle})),o.a.createElement(g,{items:["all","open","done"],dropdownInf:n,visibleToggle:this.visibleChange,handleClick:function(t){return e.handleClick(t,"completed")},textValue:i}),o.a.createElement(g,{items:["all","high","normal","low"],dropdownInf:a,visibleToggle:this.visibleChange,handleClick:function(t){return e.handleClick(t,"priority")},textValue:r}),o.a.createElement("button",{className:"btn btn-dark col-2 p-0",style:{height:"40px"},type:"button",onClick:function(){return l()}},"\u0421reate"))}}]),t}(a.Component);n(22);function T(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}var C=function(e){function t(e){var n;return Object(u.a)(this,t),(n=Object(p.a)(this,Object(m.a)(t).call(this,e))).state={openByPriority:{name:"openByPriority",open:!0},title:"",description:"",priority:"high",id:null},n.visibleToggle=n.visibleToggle.bind(Object(b.a)(n)),n.handleSubmit=n.handleSubmit.bind(Object(b.a)(n)),n.resetData=n.resetData.bind(Object(b.a)(n)),n.handleChange=n.handleChange.bind(Object(b.a)(n)),n.handleClick=n.handleClick.bind(Object(b.a)(n)),n.handleCancel=n.handleCancel.bind(Object(b.a)(n)),n}return Object(f.a)(t,e),Object(h.a)(t,[{key:"componentDidUpdate",value:function(e){var t=this.props.editItem;if(t&&e.editItem!==t){var n=t.title,a=t.description,o=t.priority,r=t.id;this.setState({title:n,description:a,priority:o,id:r})}}},{key:"handleChange",value:function(e){var t="INPUT"===e.target.tagName?"title":"description",n=e.target.value;this.setState(Object(s.a)({},t,n))}},{key:"handleSubmit",value:function(e){var t=this.state,n=t.title,a=t.description,o=t.priority,r=t.id,i=this.props,l=i.creatTodo,c=i.editTodo,s=i.editItem;e.preventDefault(),s?c({title:n,description:a,priority:o,id:r}):l({title:n,description:a,priority:o}),this.resetData()}},{key:"handleCancel",value:function(){(0,this.props.handleShowModal)(),this.resetData()}},{key:"handleClick",value:function(e){this.setState({priority:e.target.innerText})}},{key:"resetData",value:function(){var e=this.props.resetItem;this.setState({title:"",description:"",priority:"high",edit:!1,id:null}),e()}},{key:"visibleToggle",value:function(e){this.setState((function(t){return Object(s.a)({},e.name,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?T(Object(n),!0).forEach((function(t){Object(s.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):T(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},t[e.name],{open:!t[e.name].open}))}))}},{key:"render",value:function(){var e=this.state,t=e.openByPriority,n=e.title,a=e.description,r=e.priority,i=this.props.show;return o.a.createElement("div",{className:i?"modalWindow show":"modalWindow"},o.a.createElement("form",{className:"createTodoContent",onSubmit:this.handleSubmit},o.a.createElement("label",null,"Title:",o.a.createElement("input",{type:"text",placeholder:"Title",title:"please fill this field",className:"form-control",value:n,onChange:this.handleChange,required:!0})),o.a.createElement("label",null,"Description:",o.a.createElement("div",null,o.a.createElement("textarea",{placeholder:"Description",className:"form-control",value:a,onChange:this.handleChange}))),o.a.createElement("p",null,"Priority: "),o.a.createElement(g,{items:["high","normal","low"],dropdownInf:t,visibleToggle:this.visibleToggle,handleClick:this.handleClick,textValue:r}),o.a.createElement("div",{className:"btnGroup"},o.a.createElement("button",{type:"button",className:"btn btn-outline-danger",onClick:this.handleCancel},"Cancel"),o.a.createElement("button",{type:"submit",className:"btn btn-outline-success"},"Save"))))}}]),t}(a.Component);C.defaultProps={editItem:void 0};var S=C,D=function(e){function t(){var e;return Object(u.a)(this,t),(e=Object(p.a)(this,Object(m.a)(t).call(this))).state={dropdownOpen:!1},e.handleOpen=e.handleOpen.bind(Object(b.a)(e)),e}return Object(f.a)(t,e),Object(h.a)(t,[{key:"handleOpen",value:function(){this.setState((function(e){return{dropdownOpen:!e.dropdownOpen}}))}},{key:"render",value:function(){var e=this,t=this.props,n=t.todo,a=t.editTodo,r=t.toggleDone,i=t.deleteTodo,l=this.state.dropdownOpen;return o.a.createElement("div",{className:"card text-white ".concat(n.done?"bg-success":"bg-secondary","  mb-3 todoItem show")},o.a.createElement("div",{className:"card-header"},n.title),o.a.createElement("div",{className:"card-body"},o.a.createElement("p",{className:"card-text"},n.description)),o.a.createElement("div",{className:"d-flex justify-content-around card-footer"},o.a.createElement("p",null,n.priority),o.a.createElement("div",{className:l?"dropdownEditTodo open":"dropdownEditTodo"},o.a.createElement("button",{type:"button",onClick:this.handleOpen},"..."),o.a.createElement("ul",null,o.a.createElement("li",{onClick:function(){r(n),e.handleOpen()}},"done"),o.a.createElement("li",{onClick:function(){a(n),e.handleOpen()}},"edit"),o.a.createElement("li",{onClick:function(){i(n)}},"delete")))))}}]),t}(a.Component);n(23);var I=function(e){var t=e.todolist,n=e.editTodo,a=e.toggleDone,r=e.deleteTodo;return o.a.createElement("ul",{className:"todoList"},t.map((function(e){return o.a.createElement(D,{key:e.id,todo:e,editTodo:n,toggleDone:a,deleteTodo:r})})))};function P(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function x(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?P(Object(n),!0).forEach((function(t){Object(s.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):P(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var N={searchText:"",priority:"all",completed:"all"},M=function(e){function t(){var e;return Object(u.a)(this,t),(e=Object(p.a)(this,Object(m.a)(t).call(this))).state={showModalWindow:!1,items:[],filterItems:[],editItem:void 0},e.handleShowModal=e.handleShowModal.bind(Object(b.a)(e)),e.creatTodo=e.creatTodo.bind(Object(b.a)(e)),e.editTodo=e.editTodo.bind(Object(b.a)(e)),e.toggleDone=e.toggleDone.bind(Object(b.a)(e)),e.deleteTodo=e.deleteTodo.bind(Object(b.a)(e)),e.sortedItems=e.sortedItems.bind(Object(b.a)(e)),e.resetItem=e.resetItem.bind(Object(b.a)(e)),e}return Object(f.a)(t,e),Object(h.a)(t,[{key:"handleShowModal",value:function(){this.setState((function(e){return{showModalWindow:!e.showModalWindow}}))}},{key:"creatTodo",value:function(e){this.setState((function(t){return{items:[].concat(Object(d.a)(t.items),[x({id:Date.now(),done:!1},e)])}})),this.sortedItems(N),this.handleShowModal()}},{key:"editTodo",value:function(e){var t=e.id,n=e.title,a=e.description,o=e.priority;this.setState((function(r){return{editItem:e,items:r.items.map((function(e){var r=x({},e);return e.id===t&&(r.title=n,r.description=a,r.priority=o),r}))}})),this.sortedItems(N),this.handleShowModal()}},{key:"toggleDone",value:function(e){this.setState((function(t){return{items:t.items.map((function(t){var n=x({},t);return t.id===e.id&&(n.done=!e.done),n}))}})),this.sortedItems(N)}},{key:"deleteTodo",value:function(e){var t=this.state.items;this.setState({items:t.filter((function(t){return t.id!==e.id}))}),this.sortedItems(N)}},{key:"sortedItems",value:function(e){var t=this;setTimeout((function(){var n=t.state.items,a=Object(d.a)(n);switch(N=x({},e),e.completed){case"done":a=a.filter((function(e){return e.done}));break;case"open":a=a.filter((function(e){return!e.done}))}switch(e.priority){case"high":a=a.filter((function(e){return"high"===e.priority}));break;case"normal":a=a.filter((function(e){return"normal"===e.priority}));break;case"low":a=a.filter((function(e){return"low"===e.priority}))}e.searchText&&(a=a.filter((function(t){return t.title.includes(e.searchText)}))),a.sort((function(e,t){return e.done-t.done})),t.setState({filterItems:a})}))}},{key:"resetItem",value:function(){this.setState({editItem:void 0})}},{key:"render",value:function(){var e=this.state,t=e.showModalWindow,n=e.filterItems,a=e.editItem;return o.a.createElement(o.a.Fragment,null,o.a.createElement(E,{handleShowModal:this.handleShowModal,handleSorted:this.sortedItems}),o.a.createElement(S,{show:t,handleShowModal:this.handleShowModal,creatTodo:this.creatTodo,editTodo:this.editTodo,editItem:a,resetItem:this.resetItem}),o.a.createElement(I,{todolist:n,editTodo:this.editTodo,toggleDone:this.toggleDone,deleteTodo:this.deleteTodo}))}}]),t}(a.Component);var B=function(){return o.a.createElement(o.a.Fragment,null,o.a.createElement(l,null),o.a.createElement(M,null),o.a.createElement(c,null))};i.a.render(o.a.createElement(B,null),document.getElementById("root"))}},[[12,1,2]]]);
//# sourceMappingURL=main.4617178a.chunk.js.map